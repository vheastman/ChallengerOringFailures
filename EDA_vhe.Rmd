---
title: "Lab 1 VHE"
author: "Victoria Eastman"
date: "September 19, 2018"
output: pdf_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

# Notes from Async videos
 - always good to write out the model after it's been estimated (ie logit(pi) = 0.5 + 5good + 3frank etc.)


### Initial EDA

Problem statement: 

```{r}
# Import libraries
suppressPackageStartupMessages(library(dplyr))
suppressPackageStartupMessages(library(Hmisc))

setwd("/home/victoriaeastman/berkeley/w271/w271_lab1")
data <- read.csv("challenger.csv")
```

```{r}
glimpse(data)
describe(data)

# I'm curious about the value counts for o-ring failures
table(data$O.ring)
```

Initial findings:

  - 23 data points with no missing values for any variables
  - Dependent variable, O.ring, is categorical and takes three values: 0, 1, and 2 representing the number of o-ring failures on space launches. The mean value is 0.3913 which means the data is skewed towards 0 o-ring failures. Futher investigation shows there were 2 flights with 2 o-ring failures, 5 with 1 failure, and 16 with no failures.
  - The explanatory variables are as follows:
  
    + Temp: temperature at launch (degrees F)
    + Pressure: Combustion pression (psi)
    
The goal of this study is to estimate a logistic regression so we are going to recategorize the O.ring variable as 0 for no failures and 1 for *at least 1* failure. 
  
  
```{r}

# Change the O.ring variable
data$O.ring[data$O.ring >= 1] = 1

# histogram of explanatory variables
for (i in 2:4){
  par(mfrow = c(2,1))
  hist(as.numeric(data[,i]), main=paste0("Histogram of ", colnames(data)[i]), xlab=NA)
  hist(as.numeric(log(data[,i])), main=paste0("Histogram of log(", colnames(data)[i], ")"), xlab=NA)
  #hist(as.numeric(data[,i]^2), main=paste0("Histogram of log(", colnames(data)[i], ")"), xlab=NA)
}

```

The distribution of the temperature variable is fairly close to a normal distribution and does not appear to become closer to a normal distribution after a log transformation. Neither the Pressure or O.ring variables are close to a normal distribution and are not improved by a log transformation. Thus it seems like the variables should be left in their un-tranformed state.

```{r}
for (i in 2:3){
  print(ggplot(data, aes(factor(O.ring), data[,i])) +
          geom_boxplot(aes(fill = factor(O.ring))) + 
          geom_jitter() +
          ggtitle(paste0(colnames(data)[i], " by O-ring Failure")) + 
          theme(plot.title = element_text(lineheight=1, face="bold")))
}
```

The first box-plot clearly shows 


```{r}
data$tempsqr = data$Temp^2
# Visualize interaction variables
ggplot(data, aes(factor(O.ring), data[,ncol(data)])) +
          geom_boxplot(aes(fill = factor(O.ring))) + 
          geom_jitter() +
          ggtitle(paste0(colnames(data)[i], " by O-ring Failure")) + 
          theme(plot.title = element_text(lineheight=1, face="bold"))

```











